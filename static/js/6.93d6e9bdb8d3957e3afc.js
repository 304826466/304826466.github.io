webpackJsonp([6],{HPC3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={name:"menuMgt",data:function(){return{search:{menuName:""},alldata:[],maindata:[],searchName:"",heigthNum:"",tableShow:!0,pageData:{size:100,total:0,page:1}}},mounted:function(){var e=this,t=this,a=document.querySelector(".searchView").offsetHeight;this.heigthNum=this.$api.getHeightFun(a);var i=null;window.onresize=function(){i&&clearTimeout(i),i=setTimeout(function(){t.tableShow=!1,t.tableShow=!0,console.log(123),t.heigthNum=t.$api.getHeightFun(a)},200)},this.$api.promise({method:"POST",url:"demo",data:{name:"12345"}}).then(function(a){if(a.data.code>0){for(var i=0;i<19999;i++){var n={name:i+"--"};t.alldata.push(n)}e.maindata=e.spliceFun(e.alldata,e.pageData.size,e.pageData.page-1)}else e.$message.error(a.data.desc)}).catch(function(t){e.fullscreenLoading=!1,e.$message.error("接口异常："+t)})},computed:{fileterList:function(){var e=this,t=this.alldata.filter(function(t){return t.name.match(e.searchName)});return this.spliceFun(t,this.pageData.size,this.pageData.page-1)}},methods:{handleChange:function(e,t,a){console.log(e,t,a)},spliceFun:function(e,t,a){return this.pageData.total=e.length,e.slice(t*a,t*a+t)},handleEdit:function(e,t){console.log(e,t)},handleDelete:function(e,t){console.log(e,t)},handleSelectionChange:function(e){console.log(e),this.multipleSelection=e},handleSizeChange:function(e){this.pageData.size=e,this.maindata=this.spliceFun(this.alldata,this.pageData.size,this.pageData.page-1)},handleCurrentChange:function(e){this.pageData.page=e,this.maindata=this.spliceFun(this.alldata,this.pageData.size,this.pageData.page-1)},submitForm:function(e){alert(1),this.roleAdd=!1}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"menuMgt"},[a("div",{staticClass:"searchView"},[e._v("\n    菜单名称：\n    "),a("el-input",{staticStyle:{width:"140px","margin-right":"20px"},attrs:{size:"small",clearable:"",placeholder:"菜单名称"},model:{value:e.search.menuName,callback:function(t){e.$set(e.search,"menuName",t)},expression:"search.menuName"}}),e._v(" "),a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("span",{staticStyle:{height:"40px","line-height":"40px"}},[e._v("角色管理")]),e._v(" "),a("el-input",{staticStyle:{float:"right",width:"140px","margin-right":"20px","margin-top":"4px"},attrs:{size:"small",clearable:"",placeholder:"请输入菜单名称"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1),e._v(" "),a("div",{staticClass:"panel-body"},[a("div",{staticClass:"demo-table",staticStyle:{padding:"10px"}},[e.tableShow?a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.fileterList,stripe:"",height:e.heigthNum},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180",prop:"btnList"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"el-icon-edit",attrs:{size:"mini",type:"success"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"el-icon-delete",attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1):e._e()],1)])]),e._v(" "),a("el-pagination",{staticStyle:{float:"right","margin-top":"10px"},attrs:{background:"","current-page":1,"page-sizes":[100,200,300,400],"page-size":e.pageData.size,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("div",{staticStyle:{position:"absolute",bottom:"0",width:"100%",height:"47px",left:"0px","background-color":"#fff"}},[a("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){e.roleAdd=!0}}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"}},[e._v("删除")])],1)],1)},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(e){a("zJa/")},"data-v-34ba488c",null);t.default=l.exports},"zJa/":function(e,t){}});