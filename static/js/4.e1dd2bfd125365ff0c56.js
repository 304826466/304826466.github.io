webpackJsonp([4],{"2B0V":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={name:"roleMgt",data:function(){this.$createElement;return{search:{account:"",userName:""},alldata:[],maindata:[],searchName:"",heigthNum:"",tableShow:!0,size:100,total:0,page:1,roleAdd:!1,rolename:"",data:function(e){for(var t=[],a=1;a<=15;a++)t.push({key:a,label:"备选项 "+a,disabled:a%4==0});return t}(),value3:[1,2],renderFunc:function(e,t){return e("span",null,[t.key," - ",t.label])}}},mounted:function(){var e=this,t=this,a=document.querySelector(".searchView").offsetHeight;this.heigthNum=this.$api.getHeightFun(a);var l=null;window.onresize=function(){l&&clearTimeout(l),l=setTimeout(function(){t.tableShow=!1,t.tableShow=!0,console.log(123),t.heigthNum=t.$api.getHeightFun(a)},200)},this.$api.promise({method:"POST",url:"demo",data:{name:"12345"}}).then(function(a){if(a.data.code>0){for(var l=0;l<19999;l++){var n={name:l+"--"};t.alldata.push(n)}e.maindata=e.spliceFun(e.alldata,e.size,e.page-1)}else e.$message.error(a.data.desc)}).catch(function(t){e.fullscreenLoading=!1,e.$message.error("接口异常："+t)})},computed:{fileterList:function(){var e=this,t=this.alldata.filter(function(t){return t.name.match(e.searchName)});return this.spliceFun(t,this.size,this.page-1)}},methods:{handleChange:function(e,t,a){console.log(e,t,a)},spliceFun:function(e,t,a){return this.total=e.length,e.slice(t*a,t*a+t)},handleSizeChange:function(e){this.size=e,this.maindata=this.spliceFun(this.alldata,this.size,this.page-1)},handleCurrentChange:function(e){this.page=e,this.maindata=this.spliceFun(this.alldata,this.size,this.page-1)},submitForm:function(e){alert(1),this.roleAdd=!1}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"roleMgt"},[a("div",{staticClass:"searchView"},[e._v("\n    用户名：\n    "),a("el-input",{staticStyle:{width:"140px","margin-right":"20px"},attrs:{size:"small",clearable:"",placeholder:"请输入用户名"},model:{value:e.search.account,callback:function(t){e.$set(e.search,"account",t)},expression:"search.account"}}),e._v("\n    用户姓名：\n    "),a("el-input",{staticStyle:{width:"140px","margin-right":"20px"},attrs:{size:"small",clearable:"",placeholder:"请输入用户姓名"},model:{value:e.search.username,callback:function(t){e.$set(e.search,"username",t)},expression:"search.username"}}),e._v(" "),a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("span",{staticStyle:{height:"40px","line-height":"40px"}},[e._v("用户信息列表")]),e._v(" "),a("el-input",{staticStyle:{float:"right",width:"140px","margin-right":"20px","margin-top":"4px"},attrs:{size:"small",clearable:"",placeholder:"请输入搜索条件"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1),e._v(" "),a("div",{staticClass:"panel-body"},[a("div",{staticClass:"demo-table",staticStyle:{padding:"10px"}},[e.tableShow?a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.fileterList,stripe:"",height:e.heigthNum},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180",prop:"btnList"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1):e._e()],1)])]),e._v(" "),a("el-pagination",{staticStyle:{float:"right","margin-top":"10px"},attrs:{background:"","current-page":1,"page-sizes":[100,200,300,400],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("div",{staticStyle:{position:"absolute",bottom:"0",width:"100%",height:"47px",left:"0px","background-color":"#fff"}},[a("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){e.roleAdd=!0}}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-error"}},[e._v("禁用")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-success"}},[e._v("启用")])],1),e._v(" "),a("el-dialog",{attrs:{title:"新增角色",visible:e.roleAdd},on:{"update:visible":function(t){e.roleAdd=t}}},[a("div",{staticClass:"rolename"},[a("span",[e._v("角色名：")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:e.rolename,callback:function(t){e.rolename=t},expression:"rolename"}})],1),e._v(" "),a("el-transfer",{attrs:{filterable:"","left-default-checked":[3,5],"right-default-checked":[1,2],"render-content":e.renderFunc,titles:["全部菜单","角色拥有的菜单"],format:{noChecked:"${total}",hasChecked:"${checked}/${total}"},data:e.data},on:{change:e.handleChange},model:{value:e.value3,callback:function(t){e.value3=t},expression:"value3"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("addRules")}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.roleAdd=!1}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")(l,n,!1,function(e){a("BG1c")},null,null);t.default=i.exports},BG1c:function(e,t){}});
//# sourceMappingURL=4.e1dd2bfd125365ff0c56.js.map