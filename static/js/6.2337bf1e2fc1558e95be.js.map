{"version":3,"sources":["webpack:///src/components/systemMgt/userMgt.vue","webpack:///./src/components/systemMgt/userMgt.vue?1bab","webpack:///./src/components/systemMgt/userMgt.vue"],"names":["userMgt","_this","this","offsetHeight","hei","resizeTimer","then","res","datas","desc","catch","err","_this2","searchName","size","row","val","systemMgt_userMgt","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","width","margin-right","attrs","clearable","placeholder","model","value","search","callback","$$v","$set","expression","icon","type","height","line-height","float","margin-top","padding","border","data","fileterList","stripe","heigthNum","on","selection-change","handleSelectionChange","prop","label","scopedSlots","_u","key","fn","scope","click","$event","handleEdit","$index","handleDelete","_e","background","current-page","page-sizes","page-size","pageData","layout","total","size-change","handleSizeChange","current-change","handleCurrentChange","position","bottom","left","background-color","margin-left","addUser","title","visible","update:visible","ref","userForm","status-icon","name","slot","submitForm","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.2337bf1e2fc1558e95be.js","sourcesContent":["<template>\r\n  <div class=\"userMgt\">\r\n    <div class=\"searchView\">\r\n      用户名：\r\n      <el-input\r\n        size=\"small\" style=\"width:140px;margin-right:20px;\" clearable \r\n        placeholder=\"请输入用户名\"\r\n        v-model=\"search.account\">\r\n      </el-input>\r\n      用户姓名：\r\n      <el-input\r\n        size=\"small\" style=\"width:140px;margin-right:20px;\" clearable\r\n        placeholder=\"请输入用户姓名\"\r\n        v-model=\"search.username\">\r\n      </el-input>\r\n      <el-button size=\"small\" icon=\"el-icon-search\" type=\"primary\">查询</el-button>\r\n    </div>\r\n    <div class=\"panel\">\r\n      <div class=\"panel-heading\">\r\n        <span style=\"height:40px;line-height:40px;\">用户信息列表</span>\r\n        \r\n        <el-input\r\n          size=\"small\" style=\"float:right;width:140px;margin-right:20px;margin-top:4px;\" clearable\r\n          placeholder=\"请输入搜索条件\"\r\n          v-model=\"searchName\">\r\n        </el-input>\r\n      </div>\r\n      <div class=\"panel-body\">\r\n        <div class=\"demo-table\" style=\"padding:10px\">\r\n          <el-table border v-if=\"tableShow\"\r\n            :data=\"fileterList\"\r\n            @selection-change=\"handleSelectionChange\"\r\n            stripe\r\n            v-bind:height=\"heigthNum\"\r\n            style=\"width: 100%\">\r\n            <el-table-column\r\n              type=\"selection\"\r\n              width=\"40\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"userid\"\r\n              label=\"ID\"\r\n              width=\"60\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"username\"\r\n              label=\"用户名\"\r\n              width=\"\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"name\"\r\n              label=\"姓名\"\r\n              width=\"\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"hasrole\"\r\n              label=\"拥有角色\"\r\n              width=\"\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"company\"\r\n              label=\"所属公司\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"company\"\r\n              label=\"创建人\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"company\"\r\n              label=\"修改人\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"company\"\r\n              label=\"修改时间\"\r\n              width=\"100\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"desc\"\r\n              label=\"备注\">\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" width=\"280\" >\r\n              <template slot-scope=\"scope\">\r\n                <el-button class=\"el-icon-edit\"\r\n                  size=\"mini\"\r\n                  type=\"success\"\r\n                  @click=\"handleEdit(scope.$index, scope.row)\">重置密码</el-button>\r\n                <el-button class=\"el-icon-edit\"\r\n                  size=\"mini\"\r\n                  type=\"success\"\r\n                  @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n                <el-button class=\"el-icon-delete\"\r\n                  size=\"mini\"\r\n                  type=\"danger\"\r\n                  @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <el-pagination style=\"float:right;margin-top:10px;\"\r\n      background\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"1\"\r\n      :page-sizes=\"[100, 200, 300, 400]\"\r\n      v-bind:page-size=\"pageData.size\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      v-bind:total=\"pageData.total\">\r\n    </el-pagination>\r\n    <div style=\"position:flex;bottom:0;width:100%;height:47px;left:0px;background-color:#fff;position: absolute;\">\r\n      <el-button type=\"primary\" size=\"small\" icon=\"el-icon-plus\" style=\"margin-left: 15px;\"  @click=\"addUser = true\">新增</el-button>\r\n      <el-button type=\"danger\" size=\"small\" icon=\"el-icon-error\">禁用</el-button>\r\n      <el-button type=\"success\" size=\"small\" icon=\"el-icon-success\">启用</el-button>\r\n    </div>\r\n    <el-dialog title=\"新增用户\" :visible.sync=\"addUser\">\r\n      <el-form :model=\"userForm\" status-icon size=\"small\" ref=\"userForm\" class=\"addfrom\">\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"userForm.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"username\">\r\n          <el-input v-model=\"userForm.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户姓名\" prop=\"name\">\r\n          <el-input v-model=\"userForm.name\" ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"所属公司\">\r\n          <el-select v-model=\"userForm.company\" placeholder=\"请选择所属公司\">\r\n            <el-option label=\"派生集团\" value=\"1\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\" prop=\"phone\">\r\n          <el-input type=\"number\" v-model=\"userForm.phone\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input type=\"email\" v-model=\"userForm.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\">\r\n          <el-radio-group v-model=\"userForm.gender\">\r\n            <el-radio label=\"男\" name=\"gender\" value=\"1\"></el-radio>\r\n            <el-radio label=\"女\" name=\"gender\" value=\"0\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"状态\">\r\n          <el-radio-group v-model=\"userForm.state\">\r\n            <el-radio label=\"开启\" name=\"state\" value=\"1\"></el-radio>\r\n            <el-radio label=\"禁用\" name=\"state\" value=\"0\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"所属角色\">\r\n          <el-radio-group v-model=\"userForm.ruleType\">\r\n            <el-radio label=\"系统管理员\" name=\"ruleType\" value=\"1\"></el-radio>\r\n            <el-radio label=\"技术\" name=\"ruleType\" value=\"2\"></el-radio>\r\n            <el-radio label=\"业务\" name=\"ruleType\" value=\"3\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"submitForm('addRules')\">确 定</el-button>\r\n        <el-button @click=\"addUser = false\">取 消</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'userMgt',\r\n  data () {\r\n    return {\r\n      search: {\r\n        account: '',\r\n        userName: ''\r\n      },\r\n      alldata: [],\r\n      maindata: [],\r\n      searchName: '',\r\n      heigthNum: '',\r\n      tableShow: true,\r\n      pageData: {\r\n        size: 100, // 每页显示数据\r\n        total: 0,  // 数据总计\r\n        page: 1\r\n      },\r\n      addUser: false,\r\n      userForm: {\r\n        username: '',\r\n        name: '',\r\n        company: '',\r\n        phone: '',\r\n        email: '',\r\n        gender: '',\r\n        state: '',\r\n        ruleType: ''\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    let that = this\r\n    let hei = document.querySelector('.searchView').offsetHeight\r\n    this.heigthNum = this.$api.getHeightFun(hei)\r\n    let resizeTimer = null\r\n    window.onresize = function () {\r\n      if (resizeTimer) {\r\n        clearTimeout(resizeTimer)\r\n      }\r\n      resizeTimer = setTimeout(function () {\r\n        that.tableShow = false\r\n        that.tableShow = true\r\n        console.log(123)\r\n        that.heigthNum = that.$api.getHeightFun(hei)\r\n      }, 200)\r\n    }\r\n    this.$api.promise({\r\n      method: 'POST',\r\n      url: 'demo',\r\n      data: {'name': '12345'}\r\n    })\r\n    .then(res => {\r\n      if (res.data.code > 0) {\r\n        for (let i = 0; i < 19999; i++) {\r\n          let datas = {'name': i + '--'}\r\n          that.alldata.push(datas)\r\n        }\r\n        this.maindata = this.spliceFun(this.alldata, this.pageData.size, this.pageData.page - 1)  // 数据分页\r\n      } else {\r\n        this.$message.error(res.data.desc)\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      this.fullscreenLoading = false\r\n      this.$message.error('接口异常：' + err)\r\n    })\r\n  },\r\n  computed: {\r\n    fileterList: function () {\r\n      var newdata = this.alldata.filter(list => {\r\n        return list.name.match(this.searchName)\r\n      })\r\n      return this.spliceFun(newdata, this.pageData.size, this.pageData.page - 1)\r\n    }\r\n  },\r\n  methods: {\r\n    spliceFun (list, size, pages) {\r\n      this.pageData.total = list.length // 获取数据总量\r\n      return list.slice(size * pages, size * pages + size)\r\n    },\r\n    handleEdit (index, row) {\r\n      console.log(index, row)\r\n    },\r\n    handleDelete (index, row) {\r\n      console.log(index, row)\r\n    },\r\n    handleSelectionChange (val) {\r\n      console.log(val)\r\n      this.multipleSelection = val\r\n    },\r\n    handleSizeChange (val) {\r\n      // 每页显示val条数据\r\n      this.pageData.size = val\r\n      this.maindata = this.spliceFun(this.alldata, this.pageData.size, this.pageData.page - 1)\r\n    },\r\n    handleCurrentChange (val) {\r\n      // 跳转到第 val 页\r\n      this.pageData.page = val\r\n      this.maindata = this.spliceFun(this.alldata, this.pageData.size, this.pageData.page - 1)\r\n    },\r\n    submitForm (formName) {\r\n      alert(1)\r\n      this.addUser = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" type=\"text/css\">\r\n  .addfrom .el-form-item__label {\r\n    width: 80px;\r\n  }\r\n  .el-input {\r\n    width: 67%;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/systemMgt/userMgt.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"userMgt\"},[_c('div',{staticClass:\"searchView\"},[_vm._v(\"\\n    用户名：\\n    \"),_c('el-input',{staticStyle:{\"width\":\"140px\",\"margin-right\":\"20px\"},attrs:{\"size\":\"small\",\"clearable\":\"\",\"placeholder\":\"请输入用户名\"},model:{value:(_vm.search.account),callback:function ($$v) {_vm.$set(_vm.search, \"account\", $$v)},expression:\"search.account\"}}),_vm._v(\"\\n    用户姓名：\\n    \"),_c('el-input',{staticStyle:{\"width\":\"140px\",\"margin-right\":\"20px\"},attrs:{\"size\":\"small\",\"clearable\":\"\",\"placeholder\":\"请输入用户姓名\"},model:{value:(_vm.search.username),callback:function ($$v) {_vm.$set(_vm.search, \"username\", $$v)},expression:\"search.username\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-search\",\"type\":\"primary\"}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"panel\"},[_c('div',{staticClass:\"panel-heading\"},[_c('span',{staticStyle:{\"height\":\"40px\",\"line-height\":\"40px\"}},[_vm._v(\"用户信息列表\")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"float\":\"right\",\"width\":\"140px\",\"margin-right\":\"20px\",\"margin-top\":\"4px\"},attrs:{\"size\":\"small\",\"clearable\":\"\",\"placeholder\":\"请输入搜索条件\"},model:{value:(_vm.searchName),callback:function ($$v) {_vm.searchName=$$v},expression:\"searchName\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"panel-body\"},[_c('div',{staticClass:\"demo-table\",staticStyle:{\"padding\":\"10px\"}},[(_vm.tableShow)?_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"border\":\"\",\"data\":_vm.fileterList,\"stripe\":\"\",\"height\":_vm.heigthNum},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"40\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userid\",\"label\":\"ID\",\"width\":\"60\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"用户名\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"姓名\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"hasrole\",\"label\":\"拥有角色\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"company\",\"label\":\"所属公司\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"company\",\"label\":\"创建人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"company\",\"label\":\"修改人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"company\",\"label\":\"修改时间\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"desc\",\"label\":\"备注\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"280\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"el-icon-edit\",attrs:{\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){_vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"重置密码\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"el-icon-edit\",attrs:{\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){_vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"el-icon-delete\",attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1):_vm._e()],1)])]),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"float\":\"right\",\"margin-top\":\"10px\"},attrs:{\"background\":\"\",\"current-page\":1,\"page-sizes\":[100, 200, 300, 400],\"page-size\":_vm.pageData.size,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pageData.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"bottom\":\"0\",\"width\":\"100%\",\"height\":\"47px\",\"left\":\"0px\",\"background-color\":\"#fff\"}},[_c('el-button',{staticStyle:{\"margin-left\":\"15px\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.addUser = true}}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\",\"icon\":\"el-icon-error\"}},[_vm._v(\"禁用\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"small\",\"icon\":\"el-icon-success\"}},[_vm._v(\"启用\")])],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新增用户\",\"visible\":_vm.addUser},on:{\"update:visible\":function($event){_vm.addUser=$event}}},[_c('el-form',{ref:\"userForm\",staticClass:\"addfrom\",attrs:{\"model\":_vm.userForm,\"status-icon\":\"\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.userForm.username),callback:function ($$v) {_vm.$set(_vm.userForm, \"username\", $$v)},expression:\"userForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.userForm.password),callback:function ($$v) {_vm.$set(_vm.userForm, \"password\", $$v)},expression:\"userForm.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户姓名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.userForm.name),callback:function ($$v) {_vm.$set(_vm.userForm, \"name\", $$v)},expression:\"userForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"所属公司\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择所属公司\"},model:{value:(_vm.userForm.company),callback:function ($$v) {_vm.$set(_vm.userForm, \"company\", $$v)},expression:\"userForm.company\"}},[_c('el-option',{attrs:{\"label\":\"派生集团\",\"value\":\"1\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.userForm.phone),callback:function ($$v) {_vm.$set(_vm.userForm, \"phone\", $$v)},expression:\"userForm.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"type\":\"email\"},model:{value:(_vm.userForm.email),callback:function ($$v) {_vm.$set(_vm.userForm, \"email\", $$v)},expression:\"userForm.email\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"性别\"}},[_c('el-radio-group',{model:{value:(_vm.userForm.gender),callback:function ($$v) {_vm.$set(_vm.userForm, \"gender\", $$v)},expression:\"userForm.gender\"}},[_c('el-radio',{attrs:{\"label\":\"男\",\"name\":\"gender\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"女\",\"name\":\"gender\",\"value\":\"0\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-radio-group',{model:{value:(_vm.userForm.state),callback:function ($$v) {_vm.$set(_vm.userForm, \"state\", $$v)},expression:\"userForm.state\"}},[_c('el-radio',{attrs:{\"label\":\"开启\",\"name\":\"state\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"禁用\",\"name\":\"state\",\"value\":\"0\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"所属角色\"}},[_c('el-radio-group',{model:{value:(_vm.userForm.ruleType),callback:function ($$v) {_vm.$set(_vm.userForm, \"ruleType\", $$v)},expression:\"userForm.ruleType\"}},[_c('el-radio',{attrs:{\"label\":\"系统管理员\",\"name\":\"ruleType\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"技术\",\"name\":\"ruleType\",\"value\":\"2\"}}),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"业务\",\"name\":\"ruleType\",\"value\":\"3\"}})],1)],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('addRules')}}},[_vm._v(\"确 定\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.addUser = false}}},[_vm._v(\"取 消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e55b2f6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/systemMgt/userMgt.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e55b2f6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./userMgt.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userMgt.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userMgt.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e55b2f6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./userMgt.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/systemMgt/userMgt.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}