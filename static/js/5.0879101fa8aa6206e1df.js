webpackJsonp([5],{Di4H:function(e,t){},il1X:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={name:"userMgt",data:function(){return{search:{account:"",userName:""},styleData:{tableHeight:0,searchHeight:0},alldata:[],maindata:[],searchName:"",tableShow:!0,pageData:{size:100,total:0,page:1},addUser:!1,userForm:{username:"",name:"",company:"",phone:"",email:"",gender:"",state:"",ruleType:""},resetPwd:!1,newPwd:""}},watch:{"$store.state.bodySize.height":function(e,t){console.log(123),this.styleData.searchHeight=document.querySelector(".searchView").offsetHeight,this.styleData.tableHeight=this.$api.getHeightFun(this.styleData.searchHeight),this.tableShow=!1,this.tableShow=!0}},mounted:function(){var e=this,t=this;this.styleData.searchHeight=document.querySelector(".searchView").offsetHeight,this.styleData.tableHeight=this.$api.getHeightFun(this.styleData.searchHeight),this.$api.promise({method:"POST",url:"demo",data:{name:"12345"}}).then(function(a){if(a.data.code>0){for(var l=0;l<19999;l++){var s={name:l+"--",id:l};t.alldata.push(s)}e.maindata=e.spliceFun(e.alldata,e.pageData.size,e.pageData.page-1)}else e.$message.error(a.data.desc)}).catch(function(t){e.fullscreenLoading=!1,e.$message.error("接口异常："+t)})},computed:{fileterList:function(){var e=this,t=this.alldata.filter(function(t){return t.name.match(e.searchName)});return this.spliceFun(t,this.pageData.size,this.pageData.page-1)}},methods:{spliceFun:function(e,t,a){return this.pageData.total=e.length,e.slice(t*a,t*a+t)},handleReset:function(e,t){this.resetPwd=!0,console.dir(t)},handleEdit:function(e,t){console.log(e,t)},handleDelete:function(e,t){console.log(e,t)},handleSelectionChange:function(e){console.log(e),this.multipleSelection=e},handleSizeChange:function(e){this.pageData.size=e,this.maindata=this.spliceFun(this.alldata,this.pageData.size,this.pageData.page-1)},handleCurrentChange:function(e){this.pageData.page=e,this.maindata=this.spliceFun(this.alldata,this.pageData.size,this.pageData.page-1)},newPwdFun:function(){this.resetPwd=!1,console.log(this.newPwd)},submitForm:function(e){alert(1),this.addUser=!1},toUser:function(){this.$router.push({path:"/userMgt/addUser"})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"userMgt"},[a("div",{staticClass:"searchView"},[e._v("\n    用户名：\n    "),a("el-input",{staticStyle:{width:"140px","margin-right":"20px"},attrs:{size:"small",clearable:"",placeholder:"请输入用户名"},model:{value:e.search.account,callback:function(t){e.$set(e.search,"account",t)},expression:"search.account"}}),e._v("\n    用户姓名：\n    "),a("el-input",{staticStyle:{width:"140px","margin-right":"20px"},attrs:{size:"small",clearable:"",placeholder:"请输入用户姓名"},model:{value:e.search.username,callback:function(t){e.$set(e.search,"username",t)},expression:"search.username"}}),e._v(" "),a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("span",{staticStyle:{height:"40px","line-height":"40px"}},[e._v("用户信息列表")]),e._v(" "),a("el-input",{staticStyle:{float:"right",width:"140px","margin-right":"20px","margin-top":"4px"},attrs:{size:"small",clearable:"",placeholder:"请输入搜索条件"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1),e._v(" "),a("div",{staticClass:"panel-body"},[a("div",{staticClass:"demo-table",staticStyle:{padding:"10px"}},[e.tableShow?a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.fileterList,stripe:"",height:e.styleData.tableHeight},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userid",label:"ID",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"用户名",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"hasrole",label:"拥有角色",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"company",label:"所属公司"}}),e._v(" "),a("el-table-column",{attrs:{prop:"company",label:"创建人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"company",label:"修改人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"company",label:"修改时间",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"el-icon-edit",attrs:{size:"mini",type:"success"},on:{click:function(a){e.handleReset(t.$index,t.row)}}},[e._v("重置密码")]),e._v(" "),a("el-button",{staticClass:"el-icon-edit",attrs:{size:"mini",type:"success"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"el-icon-delete",attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1):e._e()],1)])]),e._v(" "),a("el-pagination",{staticStyle:{float:"right","margin-top":"10px"},attrs:{background:"","current-page":1,"page-sizes":[100,200,300,400],"page-size":e.pageData.size,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("div",{staticStyle:{position:"absolute",bottom:"0",width:"100%",height:"47px",left:"0px","background-color":"#fff"}},[a("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){e.addUser=!0}}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-error"}},[e._v("禁用")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-success"}},[e._v("启用")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-success"},on:{click:e.toUser}},[e._v("新增用户（test）")])],1),e._v(" "),a("el-dialog",{attrs:{title:"新增用户",visible:e.addUser},on:{"update:visible":function(t){e.addUser=t}}},[a("el-form",{staticClass:"addfrom",attrs:{size:"small","label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户姓名",prop:"name"}},[a("el-input",{model:{value:e.userForm.name,callback:function(t){e.$set(e.userForm,"name",t)},expression:"userForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属公司"}},[a("el-select",{attrs:{placeholder:"请选择所属公司"},model:{value:e.userForm.company,callback:function(t){e.$set(e.userForm,"company",t)},expression:"userForm.company"}},[a("el-option",{attrs:{label:"派生集团",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{type:"number"},model:{value:e.userForm.phone,callback:function(t){e.$set(e.userForm,"phone",t)},expression:"userForm.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{type:"email"},model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,"email",t)},expression:"userForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{staticStyle:{height:"32px",margin:"0px",padding:"0px"},attrs:{size:"mini"},model:{value:e.userForm.gender,callback:function(t){e.$set(e.userForm,"gender",t)},expression:"userForm.gender"}},[a("el-radio",{attrs:{border:"",label:"男",name:"gender",value:"1"}}),e._v(" "),a("el-radio",{attrs:{border:"",label:"女",name:"gender",value:"0"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{staticStyle:{height:"32px",margin:"0px",padding:"0px"},attrs:{size:"mini"},model:{value:e.userForm.state,callback:function(t){e.$set(e.userForm,"state",t)},expression:"userForm.state"}},[a("el-radio",{attrs:{border:"",label:"开启",name:"state",value:"1"}}),e._v(" "),a("el-radio",{attrs:{border:"",label:"禁用",name:"state",value:"0"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"所属角色"}},[a("el-radio-group",{staticStyle:{height:"32px",margin:"0px",padding:"0px"},attrs:{size:"mini"},model:{value:e.userForm.ruleType,callback:function(t){e.$set(e.userForm,"ruleType",t)},expression:"userForm.ruleType"}},[a("el-radio",{attrs:{border:"",label:"系统管理员",name:"ruleType",value:"1"}}),e._v(" "),a("el-radio",{attrs:{border:"",label:"技术",name:"ruleType",value:"2"}}),e._v(" "),a("el-radio",{attrs:{border:"",label:"业务",name:"ruleType",value:"3"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm()}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.addUser=!1}}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"重置密码",visible:e.resetPwd,width:"500px"},on:{"update:visible":function(t){e.resetPwd=t}}},[a("el-form",{attrs:{"status-icon":"",size:"small"}},[a("el-form-item",{attrs:{label:"新密码",prop:"newPwd"}},[a("el-input",{attrs:{type:"password"},model:{value:e.newPwd,callback:function(t){e.newPwd=t},expression:"newPwd"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.newPwdFun()}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetPwd=!1}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")(l,s,!1,function(e){a("Di4H")},null,null);t.default=i.exports}});